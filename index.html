<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/174a9c1444.js" crossorigin="anonymous"></script>

</head>

<body>
    <div id="screen">
        <div class="screenContainer">
            <div class="navbarWrapper">
                <div class="instLogoContainer">
                    <img src="./images/instalogo.png" alt="">
                </div>

                <div class="navlinkWrapper">
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-house"></i></span>
                        <span class="navlinkName activeLink">Home</span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-magnifying-glass"></i> </span>
                        <span class="navlinkName"> Search </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"> <i class="fa-regular fa-compass"></i></span>
                        <span class="navlinkName"> Explore </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-clapperboard"></i> </span>
                        <span class="navlinkName"> Reels </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-regular fa-message"></i> </span>
                        <span class="navlinkName"> Messages </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-regular fa-heart"></i> </span>
                        <span class="navlinkName"> Notifications </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-regular fa-square-plus"></i> </span>
                        <span class="navlinkName"> create </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"> <i class="fa-regular fa-user"></i> </span>
                        <span class="navlinkName" id="switch">Profile </span>
                    </div>

                    <div id="logout" class="navlink"></div>

                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-bars"></i></span>
                        <span class="navlinkName"> More </span>
                    </div>
                </div>

            </div>

            <div class="mainContentWrapper">
                <div class="mainStoryContainer" id="InstaStoryContainer">
                    
                    <div class="singleStoryWrap">
                        <div class="storyImgWrap">
                            <!-- <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQajVijyoJgMl3Gpyve3xw1osi4bljAFkRVaQ&usqp=CAU"
                                alt=""> -->
                        </div>
                        <div class="storyUserName">
                           
                        </div>
                    </div>
                 
                </div>
                

                <div class="mainPostContainer" id="InstaPostsContainer">
                    <div class="singlePostWrap">
                        <div class="postHeaderSection">
                            <div class="leftheadwrap">
                                <div class="postProfileImgWrap">
                                    <!-- <img src="https://qph.cf2.quoracdn.net/main-qimg-f34d96176eb12adcc87a17f1e60871f1-lq" alt=""> -->
                                </div>
                                <span class="PostUserName"> </span>
                                <span class="divider">.</span>
                                <span class="postUploadHours"> 1d</span>
                                <!-- <span class="followOpt">Follow</span> -->
                            </div>
                            <span class="rightOptionsicon"><i class="fa-solid fa-ellipsis"></i></span>
                        </div>
                        <div class="postContentSection">
                            <!-- <img src="./images/u3.jpg" alt=""> -->
                        </div>
                        <div class="postrelOptions">
                            <div class="leftPostROptions">
                                <span><i class="fa-regular fa-heart"></i> </span>
                                <span><i class="fa-regular fa-comment"></i> </span>
                                <span><i class="fa-regular fa-paper-plane"></i> </span>
                            </div>
                            <div class="rightPostROption">
                                <span><i class="fa-regular fa-bookmark"></i></span>
                            </div>
                        </div>
                        <div class="likesCount">934 <span>likes</span></div>
                        <p class="postDescSection">
                            <span class="postUsernamedesc"> </span>
                            <span class="postdescription"> </span>
                        </p>
                        <hr class="hrline">
                    </div>
                </div>

            </div>

            <div class="rightSideWrapper">
                <div class="rightUserAcContainer">
                    <div class="leftSideUserAc">
                        <div class="ProfImgContainer">
                            <img src="./images/mayuri1.jpeg"
                                alt="">
                        </div>
                        <div class="rNameInfoWrap">
                            <div class="rUserName">
                                Mayuri
                            </div>
                            <div class="subNamr"> M</div>
                        </div>
                    </div>
                    <div class="rightSideUserAc">
                        switch
                    </div>
                </div>

                <div class="rightSuggWrap">
                    <span class="sugg">Suggested for you</span>
                    <span class="seeall">See All</span>
                </div>

                <div class="suggestedProfileContainer">
                    <div class="suggestedProfileWrapper">
                        <div class="suggLeftSection">
                            <div class="SRProfileImag">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT91GYhV-zcLA7OPtaOfYTRcO-1h3A-QprNbw&usqp=CAU"
                                    alt="">
                            </div>
                            <div class="SRUNameSWrap">
                                <div>
                                    <span class="SRUserName">anushkasharma</span>
                                    <span class="SRverified"><i class="fa-solid fa-certificate"></i></span>
                                </div>
                                <div class="SRUserFollwed">
                                    Followed by smriti_mandhana
                                </div>

                            </div>

                        </div>
                        <div class="suggrightSection">
                            Follow
                        </div>

                    </div>
                    <div class="suggestedProfileWrapper">
                        <div class="suggLeftSection">
                            <div class="SRProfileImag">
                                <img src="https://www.deccanherald.com/sites/dh/files/articleimages/2022/11/12/sachin-tendulka-r-afp-1161749-1668262296.jpg"
                                    alt="">
                            </div>
                            <div class="SRUNameSWrap">
                                <div>
                                    <span class="SRUserName">sachintendulkar</span>
                                    <span class="SRverified"><i class="fa-solid fa-certificate"></i></span>
                                </div>
                                <div class="SRUserFollwed">
                                    Followed by smriti_mandhana
                                </div>

                            </div>
                        </div>
                        <div class="suggrightSection">
                            Follow
                        </div>

                    </div>
                    <div class="suggestedProfileWrapper">
                        <div class="suggLeftSection">
                            <div class="SRProfileImag">
                                <img src="./images/sg1.jpg"
                                    alt="">
                            </div>
                            <div class="SRUNameSWrap">
                                <div>
                                    <span class="SRUserName">uiuxbunker</span>
                                    <span class="SRverified"><i class="fa-solid fa-certificate"></i></span>
                                </div>
                                <div class="SRUserFollwed">
                                    Followed by richwebdevelopers
                                </div>

                            </div>
                        </div>
                        <div class="suggrightSection">
                            Follow
                        </div>

                    </div>
                    <div class="suggestedProfileWrapper">
                        <div class="suggLeftSection">
                            <div class="SRProfileImag">
                                <img src="./images/sg2.jpg"
                                    alt="">
                            </div>
                            <div class="SRUNameSWrap">
                                <div>
                                    <span class="SRUserName">shocase_ui</span>
                                    <span class="SRverified"><i class="fa-solid fa-certificate"></i></span>
                                </div>
                                <div class="SRUserFollwed">
                                    Followed by dailywebdesign
                                </div>

                            </div>
                        </div>
                        <div class="suggrightSection">
                            Follow
                        </div>

                    </div>
                </div>
            </div>

        </div>

    </div>

    <script>
        window.onload = function () {
            // alert("working")
            var currentUser = JSON.parse(localStorage.getItem("InstaCurrentUser"))
            // console.log(currentUser,"current user");
            if (!!currentUser) {
                // alert(currenUser,"username")
                var logoutDiv = document.getElementById("logout")
                var divfromHtml = document.getElementById("switch");
                // console.log(divfromHtml, "divfromhtml");
                // var h1=document.createElement("h1");
                // h1.innerText="Mayuri"
                // divfromHtml.append(h1)
                var button = '<span class="nlIcon"><i class="fa-solid fa-arrow-right-from-bracket id=logout-icon"></i></span> <span onclick="logout()" class="navlinkName">Logout</span>'
                var name = `<span>${currentUser.userName}</span>`;
                divfromHtml.innerHTML = name;
                logoutDiv.innerHTML = button;

            }
            //  else {
            //     alert("current user absent")
            // }


            var divToAppendAllPosts = document.getElementById("InstaPostsContainer")

            var divToAppendAllStories = document.getElementById("InstaStoryContainer")

            var finalInstaPosts = "";

            var finalInstaStory ="";

            var postsFromLS = JSON.parse(localStorage.getItem("InstPosts"))

            var storyFromLS = JSON.parse(localStorage.getItem("InstStory"))

            for (var i=0; i<storyFromLS.length; i++){
                finalInstaStory +=` <div class="singleStoryWrap">
                        <div class="storyImgWrap">
                            <img src="${storyFromLS[i].UserPImg}" alt="">
                        </div>
                        <div class="storyUserName">
                            ${storyFromLS[i].UserName}
                        </div>
                    </div>`
            }

            divToAppendAllStories.innerHTML = finalInstaStory;


            for (var i = postsFromLS.length-1; i >= 0; i--) {

                finalInstaPosts += `<div class="singlePostWrap" onclick='redirect(${JSON.stringify(postsFromLS[i])})'>
                        <div class="postHeaderSection">
                            <div class="leftheadwrap">
                                <div class="postProfileImgWrap">
                                    <img src="${postsFromLS[i].UserPImg}" alt="">
                                </div>
                                <span class="PostUserName"> ${postsFromLS[i].UserName}</span>
                                <span class="divider">.</span>
                                <span class="postUploadHours"> 1d</span>
                                <!-- <span class="followOpt">Follow</span> -->
                            </div>
                            <span class="rightOptionsicon"><i class="fa-solid fa-ellipsis"></i></span>
                        </div>
                        <div class="postContentSection">
                            <img src="${postsFromLS[i].PostImg}" alt="">
                        </div>
                        <div class="postrelOptions">
                            <div class="leftPostROptions">
                                <span><i class="fa-regular fa-heart"></i> </span>
                                <span><i class="fa-regular fa-comment"></i> </span>
                                <span><i class="fa-regular fa-paper-plane"></i> </span>
                            </div>
                            <div class="rightPostROption">
                                <span><i class="fa-regular fa-bookmark"></i></span>
                            </div>
                        </div>
                        <div class="likesCount">934 <span>likes</span></div>
                        <p class="postDescSection">
                            <span class="postUsernamedesc">${postsFromLS[i].UserName} </span>
                            <span class="postdescription">${postsFromLS[i].PostDecs}</span>
                        </p>
                        <hr class="hrline">
                        
                    </div>`

            }

            divToAppendAllPosts.innerHTML = finalInstaPosts;









        }

        function logout() {
            alert("Logout successful.")
            localStorage.removeItem("InstaCurrentUser")
            window.location.reload()


        }
    </script>
</body>

</html>