<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/174a9c1444.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="profileScreen">

        <div class="mainProfileContainer">
            <div class="navbarWrapper">
                <div class="instLogoContainer">
                    <img src="./images/instalogo.png" alt="">
                </div>

                <div class="navlinkWrapper">
                    <div class="navlink" onclick="window.location.href='./index.html'">
                        <span class="nlIcon"><i class="fa-solid fa-house"></i></span>
                        <span class="navlinkName activeLink">Home</span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-magnifying-glass"></i> </span>
                        <span class="navlinkName"> Search </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"> <i class="fa-regular fa-compass"></i></span>
                        <span class="navlinkName"> Explore </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-clapperboard"></i> </span>
                        <span class="navlinkName"> Reels </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-regular fa-message"></i> </span>
                        <span class="navlinkName"> Messages </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-regular fa-heart"></i> </span>
                        <span class="navlinkName"> Notifications </span>
                    </div>
                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-regular fa-square-plus"></i> </span>
                        <span class="navlinkName"> create </span>
                    </div>
                    <div class="navlink" onclick="window.location.href='./UserProfile.html'">
                        <span class="nlIcon"> <i class="fa-regular fa-user"></i> </span>
                        <span class="navlinkName" id="switch">Profile </span>
                    </div>

                    <div id="logout" class="navlink"></div>

                    <div class="navlink">
                        <span class="nlIcon"><i class="fa-solid fa-bars"></i></span>
                        <span class="navlinkName"> More </span>
                    </div>
                </div>

            </div>

            <div class="rightMainProfileContainer">
                <div class="UProfileTopSection">
                    <div class="UProfileLeftSection">
                        <div class="UPofileImag">
                            <img src="./images/mayuri1.jpeg" alt="">
                        </div>

                    </div>
                    <div class="UProfileRightSection">
                        <div class="TopUProfileOptions">
                            <span class="UInstaID">mayuri_01 </span>
                            <span class="EditProfileOption">edit profile </span>
                            <span class="UProfileSettingOption"><i class="fa-solid fa-gear"></i></span>
                        </div>

                        <div class="MiddleProfileOptions">
                            <div class="postTxtCountWrap">
                                <span class="PostCount"> 3</span>
                                <span class="PostTxt">posts</span>
                            </div>
                            <div class="followersTxtCountWrap">
                                <span class="followersCount"> 100</span>
                                <span class="followersTxt">followers</span>
                            </div>
                            <div class="followingTxtCountWrap">
                                <span class="followingCount"> 90</span>
                                <span class="followingTxt">following</span>
                            </div>

                        </div>

                        <div class="UProfileBioWrapper">
                            <div class="UserSubName"> M</div>
                            <div class="UserBio"> Full Stack Developer</div>
                        </div>
                    </div>

                </div>

                <div class="UProfileBottomSection">
                    <div class="ProfilePostOptionsWrap">
                        <div class="ProfileOptionConatainer activePOpt">
                            <span class="postOptIcon"><i class="fa-solid fa-table-cells"></i></span>
                            <span class="postOptName">posts </span>
                        </div>
                        <div class="ProfileOptionConatainer">
                            <span class="postOptIcon"><i class="fa-regular fa-bookmark"></i></span>
                            <span class="postOptName">saved </span>
                        </div>
                        <div class="ProfileOptionConatainer">
                            <span class="postOptIcon"><i class="fa-solid fa-clipboard-user"></i></span>
                            <span class="postOptName">tagged </span>
                        </div>
                    </div>

                    <div class="mainProfilePostContainer">
                        <div class="PflPostImage">
                            <img src="./images/profilepost2.jpg" alt="">
                            <div class="overlay ">
                                <span class="overlayIcon">
                                    <span class="ovicon"><i class="fa-solid fa-heart"></i>10</span>
                                    <span class="ovicon"><i class="fa-solid fa-comment"></i>3</span>
                                </span>
                            </div>
                        </div>
                        <div class="PflPostImage">
                            <img src="./images/profilepost1.jpg" alt="">
                            <div class="overlay ">
                                <span class="overlayIcon">
                                    <span class="ovicon"><i class="fa-solid fa-heart"></i>10</span>
                                    <span class="ovicon"><i class="fa-solid fa-comment"></i>3</span>
                                </span>
                            </div>
                        </div>
                        <div class="PflPostImage">
                            <img src="./images/p3.jpg" alt="">
                            <div class="overlay ">
                                <span class="overlayIcon">
                                    <span class="ovicon"><i class="fa-solid fa-heart"></i>10</span>
                                    <span class="ovicon"><i class="fa-solid fa-comment"></i>3</span>
                                </span>
                            </div>
                        </div>


                    </div>


                </div>

                <!-- footer -->
                <div class="footer">
                    <div class="footerWrapper">
                        <span class="footerLink"> Meta</span>
                        <span class="footerLink"> about</span>
                        <span class="footerLink"> blog </span>
                        <span class="footerLink"> jobs</span>
                        <span class="footerLink"> help</span>
                        <span class="footerLink"> API</span>
                        <span class="footerLink"> privacy</span>
                        <span class="footerLink"> terms</span>
                        <span class="footerLink"> Top Accounts</span>
                        <span class="footerLink"> locations</span>
                        <span class="footerLink"> instagram lite</span>
                        <span class="footerLink"> contact uploading & non-users</span>
                        <span class="footerLink"> meta verified</span>
                    </div>
    
                    <div class="copyrightFooter">
                        <span class="footerLink">English</span>
                        <span class="footerLink">Â© 2023 Instagram from Meta</span>
                    </div>
                </div>
               

            </div>

        </div>

    </div>
    

    <script>
        window.onload = function () {
            // alert("working")
            var currentUser = JSON.parse(localStorage.getItem("InstaCurrentUser"))
            // console.log(currentUser,"current user");
            if (!!currentUser) {
                // alert(currenUser,"username")
                var logoutDiv = document.getElementById("logout")
                var divfromHtml = document.getElementById("switch");
                // console.log(divfromHtml, "divfromhtml");
                // var h1=document.createElement("h1");
                // h1.innerText="Mayuri"
                // divfromHtml.append(h1)
                var button = '<span class="nlIcon"><i class="fa-solid fa-arrow-right-from-bracket id=logout-icon"></i></span> <span onclick="logout()" class="navlinkName">Logout</span>'
                var name = `<span>${currentUser.userName}</span>`;
                divfromHtml.innerHTML = name;
                logoutDiv.innerHTML = button;

            }
            //  else {
            //     alert("current user absent")
            // }


            var divToAppendAllPosts = document.getElementById("InstaPostsContainer")

            var divToAppendAllStories = document.getElementById("InstaStoryContainer")

            var finalInstaPosts = "";

            var finalInstaStory ="";

            var postsFromLS = JSON.parse(localStorage.getItem("InstPosts"))

            var storyFromLS = JSON.parse(localStorage.getItem("InstStory"))

            for (var i=0; i<storyFromLS.length; i++){
                finalInstaStory +=` <div class="singleStoryWrap">
                        <div class="storyImgWrap">
                            <img src="${storyFromLS[i].UserPImg}" alt="">
                        </div>
                        <div class="storyUserName">
                            ${storyFromLS[i].UserName}
                        </div>
                    </div>`
            }

            divToAppendAllStories.innerHTML = finalInstaStory;


            for (var i = postsFromLS.length-1; i >= 0; i--) {

                finalInstaPosts += `<div class="singlePostWrap" onclick='redirect(${JSON.stringify(postsFromLS[i])})'>
                        <div class="postHeaderSection">
                            <div class="leftheadwrap">
                                <div class="postProfileImgWrap">
                                    <img src="${postsFromLS[i].UserPImg}" alt="">
                                </div>
                                <span class="PostUserName"> ${postsFromLS[i].UserName}</span>
                                <span class="divider">.</span>
                                <span class="postUploadHours"> 1d</span>
                                <!-- <span class="followOpt">Follow</span> -->
                            </div>
                            <span class="rightOptionsicon"><i class="fa-solid fa-ellipsis"></i></span>
                        </div>
                        <div class="postContentSection">
                            <img src="${postsFromLS[i].PostImg}" alt="">
                        </div>
                        <div class="postrelOptions">
                            <div class="leftPostROptions">
                                <span><i class="fa-regular fa-heart"></i> </span>
                                <span><i class="fa-regular fa-comment"></i> </span>
                                <span><i class="fa-regular fa-paper-plane"></i> </span>
                            </div>
                            <div class="rightPostROption">
                                <span><i class="fa-regular fa-bookmark"></i></span>
                            </div>
                        </div>
                        <div class="likesCount">934 <span>likes</span></div>
                        <p class="postDescSection">
                            <span class="postUsernamedesc">${postsFromLS[i].UserName} </span>
                            <span class="postdescription">${postsFromLS[i].PostDecs}</span>
                        </p>
                        <hr class="hrline">
                        
                    </div>`

            }

            divToAppendAllPosts.innerHTML = finalInstaPosts;









        }

        function logout() {
            alert("Logout successful.")
            localStorage.removeItem("InstaCurrentUser")
            window.location.reload()


        }
    </script>
</body>
</html>